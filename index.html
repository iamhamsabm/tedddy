<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ for my valentine ğŸ</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', 'Poppins', system-ui, sans-serif;
      background: linear-gradient(145deg, #1a0000 0%, #4a0f0f 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 0;
      padding: 16px;
    }

    .card {
      max-width: 700px;
      width: 100%;
      background: rgba(255, 245, 240, 0.95);
      backdrop-filter: blur(8px);
      border-radius: 64px 64px 48px 48px;
      box-shadow: 0 30px 50px rgba(0, 0, 0, 0.6), 0 0 0 6px #fc4e4e inset, 0 0 0 12px #ffd966 inset;
      padding: 32px 28px;
      text-align: center;
      transition: all 0.3s ease;
      border: 4px solid #fff0d0;
    }

    h1, h2 {
      font-weight: 800;
      letter-spacing: 1px;
      text-shadow: 3px 3px 0px #ffb5b5;
    }

    h1 {
      color: #b11f1f;
      font-size: 2.6rem;
      margin-bottom: 16px;
      text-transform: uppercase;
    }

    h2 {
      color: #b43636;
      font-size: 2rem;
      margin: 24px 0 16px;
      border-bottom: 4px dashed #ff8a8a;
      display: inline-block;
      padding-bottom: 6px;
    }

    .btn-group {
      display: flex;
      gap: 30px;
      justify-content: center;
      margin: 40px 0 20px;
      flex-wrap: wrap;
    }

    .valentine-btn {
      font-size: 2.2rem;
      font-weight: bold;
      padding: 18px 44px;
      border: none;
      border-radius: 60px;
      background: white;
      box-shadow: 0 10px 0 #9e2b2b, 0 6px 20px rgba(0,0,0,0.4);
      cursor: pointer;
      transition: 0.06s linear;
      color: #640e0e;
      border: 3px solid #ffc6c6;
      transform: translateY(0);
    }

    .valentine-btn:active {
      box-shadow: 0 3px 0 #6b1e1e;
      transform: translateY(7px);
    }

    #no-btn {
      background: #2e1a1a;
      color: #f5d7d7;
      border-color: #6b3a3a;
      box-shadow: 0 8px 0 #2f0606;
      font-size: 1.8rem;
      padding: 18px 30px;
    }

    .loveletter-section {
      background: #fff0e0;
      padding: 28px 24px;
      border-radius: 80px 20px 80px 20px;
      border: 5px solid #ff6f6f;
      margin: 32px 0 24px;
      box-shadow: inset 0 0 30px #ffe0c0, 0 12px 0 #a73c3c;
    }

    .letter-text {
      font-size: 1.3rem;
      font-family: 'Courier New', cursive;
      background: #fffcf0;
      padding: 20px;
      border-radius: 30px;
      border: 3px dashed #d64545;
      color: #2c0a0a;
      line-height: 1.7;
      white-space: pre-line;
      text-align: left;
    }

    .game-arena {
      background: #3b2b1f;
      border-radius: 90px 90px 40px 40px;
      padding: 24px 18px;
      margin: 36px 0 28px;
      border: 6px solid #ffa44b;
      box-shadow: 0 14px 0 #7f3f00;
    }

    .track {
      background: #4f3d2c;
      padding: 18px 10px;
      border-radius: 60px;
      border: 3px solid #ebb770;
      margin: 20px 0;
      position: relative;
    }

    .hotwheel-car {
      font-size: 4.2rem;
      filter: drop-shadow(4px 8px 0 #373737);
      letter-spacing: 10px;
      text-align: left;
      display: flex;
      align-items: center;
      gap: 5px;
      transition: margin-left 0.1s ease;
    }

    #car {
      margin-left: 0%;
      transition: margin-left 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .flag {
      font-size: 3.5rem;
      margin-left: auto;
      display: inline-block;
    }

    .controls {
      display: flex;
      gap: 18px;
      justify-content: center;
      margin: 24px 0 8px;
      flex-wrap: wrap;
    }

    .game-btn {
      background: #fee440;
      border: none;
      font-size: 1.8rem;
      font-weight: bold;
      padding: 16px 30px;
      border-radius: 50px;
      box-shadow: 0 7px 0 #b47c00;
      cursor: pointer;
      transition: 0.04s linear;
      border: 3px solid white;
      color: #2f1700;
      flex: 0 1 auto;
    }

    .game-btn:active {
      box-shadow: 0 2px 0 #9e6900;
      transform: translateY(5px);
    }

    .champion-badge {
      background: gold;
      font-size: 2.4rem;
      font-weight: 900;
      padding: 24px 10px;
      border-radius: 200px;
      border: 8px double red;
      color: #ad0f0f;
      text-shadow: 4px 4px 0 #ffeeaa;
      margin: 40px 0 20px;
      line-height: 1.4;
    }

    .hidden {
      display: none;
    }

    .fade-in {
      animation: fadeIn 1s;
    }

    @keyframes fadeIn {
      0% { opacity: 0; transform: scale(0.9); }
      100% { opacity: 1; transform: scale(1); }
    }

    .small-note {
      color: #a13939;
      font-weight: 600;
      margin: 16px;
    }

    .reset-link {
      background: #ecbcbc;
      padding: 12px 22px;
      border-radius: 40px;
      display: inline-block;
      margin: 16px 0 0;
      color: #2e0000;
      font-weight: bold;
      cursor: pointer;
      border: 3px solid #770000;
    }
  </style>
</head>
<body>
  <div class="card" id="mainCard">
    <!-- step 1 : question -->
    <div id="step1">
      <h1>ğŸ’˜ WILL YOU BE MY VALENTINE? ğŸ’˜</h1>
      <div class="btn-group">
        <button class="valentine-btn" id="yes-btn">YES ğŸ’–</button>
        <button class="valentine-btn" id="no-btn">NO ğŸ˜ˆ</button>
      </div>
      <p class="small-note">(don't even think about 'no' ğŸ˜‰)</p>
    </div>

    <!-- step 2,3,4 container (hidden initially) -->
    <div id="love-journey" class="hidden fade-in">
      <div id="step2-block">
        <h2>âœ¨ I knew it! can't escape me âœ¨</h2>
        <div class="loveletter-section">
          <div class="letter-text">
            ğŸ’Œ <strong>My love,</strong><br><br>
            From the moment you smiled at me,<br>
            my heart became a racetrack and youâ€™re the only driver.<br>
            Every day with you is an adventure â€” fast, furious, and full of love.<br>
            Youâ€™re my favorite ride, my forever co-pilot.<br><br>
            <span style="font-size:1.8rem;">â¤ï¸ Happy Valentineâ€™s â¤ï¸</span><br>
            â€” Yours always
          </div>
        </div>
      </div>

      <!-- step3: hotwheels game -->
      <h2>ğŸï¸ HOT WHEELS CHAMPION RACE ğŸï¸</h2>
      <div class="game-arena">
        <div class="track">
          <div class="hotwheel-car" id="car">
            <span>ğŸš—</span><span style="font-size:1.8rem;">ğŸ’¨</span>
          </div>
          <div style="display: flex; justify-content: space-between; margin-top: -20px;">
            <span style="color:white; font-weight:bold;">start</span>
            <span class="flag">ğŸ</span>
          </div>
          <progress id="raceProgress" value="0" max="100" style="width:100%; height:18px; border-radius:30px;"></progress>
        </div>
        <div class="controls">
          <button class="game-btn" id="gasBtn">â• GAS</button>
          <button class="game-btn" id="nitroBtn">ğŸš€ NITRO</button>
          <button class="game-btn" id="resetRace">ğŸ”„ RESET</button>
        </div>
        <p id="winMessage" style="font-size:1.8rem; font-weight:bold; color:#ffd966; min-height: 70px;"></p>
      </div>

      <!-- step4: champion message (hidden until win) -->
      <div id="champion-container" class="hidden">
        <div class="champion-badge">
          ğŸ† CHAMPION! ğŸ†<br>
          BEST BF IN THE WORLD â¤ï¸
        </div>
      </div>
      <!-- small reset button for fun -->
      <div class="reset-link" id="restartAdventure">âŸ² start over? (surprise again)</div>
    </div>
  </div>

  <script>
    (function() {
      // ------- elements ---------
      const step1Div = document.getElementById('step1');
      const journeyDiv = document.getElementById('love-journey');
      const yesBtn = document.getElementById('yes-btn');
      const noBtn = document.getElementById('no-btn');
      const restartBtn = document.getElementById('restartAdventure');
      
      // champion container & win message span
      const championContainer = document.getElementById('champion-container');
      const winMsg = document.getElementById('winMessage');
      const gasBtn = document.getElementById('gasBtn');
      const nitroBtn = document.getElementById('nitroBtn');
      const resetRaceBtn = document.getElementById('resetRace');
      const car = document.getElementById('car');
      const progress = document.getElementById('raceProgress');

      // race state
      let progressValue = 0;

      // ----- helper functions ----
      function showStep1() {
        step1Div.classList.remove('hidden');
        journeyDiv.classList.add('hidden');
        // reset race progress when restarting full adventure
        progressValue = 0;
        updateCarAndProgress();
        championContainer.classList.add('hidden');
        winMsg.innerText = '';
      }

      function showJourney() {
        step1Div.classList.add('hidden');
        journeyDiv.classList.remove('hidden');
        // ensure champion hidden (fresh start)
        championContainer.classList.add('hidden');
        winMsg.innerText = '';
        progressValue = 0;
        updateCarAndProgress();
      }

      function updateCarAndProgress() {
        // move car along track: margin-left from 0% to 85% looks nice (full flag reach)
        let movePercent = Math.min(progressValue, 100);
        // car emoji moves, keep inside track
        car.style.marginLeft = `calc(${movePercent}% - ${movePercent > 50 ? '40px' : '0px'})`;
        progress.value = movePercent;

        // if progress reaches 100, show champion
        if (movePercent >= 100) {
          championContainer.classList.remove('hidden');
          winMsg.innerText = 'ğŸ”¥ YOU WIN! ğŸ”¥';
        } else {
          // if below 100, hide champion if visible (but only if race is the current step)
          championContainer.classList.add('hidden');
          winMsg.innerText = 'ğŸï¸ step on it!';
        }
      }

      function addGas(amount) {
        if (progressValue < 100) {
          progressValue = Math.min(progressValue + amount, 100);
          updateCarAndProgress();
        } else {
          winMsg.innerText = 'YOU ARE ALREADY CHAMPION! ğŸ’ª';
        }
      }

      // ----- event listeners -----
      yesBtn.addEventListener('click', () => {
        showJourney();
      });

      // evil NO button â€“ playful tricks
      noBtn.addEventListener('click', () => {
        // surprise: it still goes to journey, but with a little laugh
        alert('nice try ğŸ˜œ â€” you said YES in your heart!');
        showJourney();
      });

      // gas: +15
      gasBtn.addEventListener('click', () => {
        addGas(15);
      });

      // nitro: random boost 20-40
      nitroBtn.addEventListener('click', () => {
        if (progressValue >= 100) {
          winMsg.innerText = 'already there, champion!';
          return;
        }
        let boost = Math.floor(Math.random() * 30) + 20; // 20-50
        addGas(boost);
      });

      // reset race progress, hide champion
      resetRaceBtn.addEventListener('click', () => {
        progressValue = 0;
        updateCarAndProgress();
        championContainer.classList.add('hidden');
        winMsg.innerText = 'reset! go again!';
      });

      // restart whole adventure (back to will you be my valentine)
      restartBtn.addEventListener('click', () => {
        showStep1();
        // reset everything to default (step1 visible)
        progressValue = 0;
        updateCarAndProgress();
        championContainer.classList.add('hidden');
        winMsg.innerText = '';
      });

      // optional: small easter egg â€“ if you click the flag text
      document.querySelector('.flag')?.addEventListener('click', () => {
        if (progressValue < 100) {
          progressValue = 100;
          updateCarAndProgress();
        }
      });

      // initialize first step (step1 visible, journey hidden)
      showStep1();

      // guarantee that if race finished, champion appears and final msg shows.
      // also ensure step 2/3/4 layout matches description: love letter is step2, step3 game, step4 champion
      // step2 is visible from start of journey, step4 appears upon winning.
    })();
  </script>

  <!-- tiny extra style for progress bar & responsiveness -->
  <style>
    progress {
      accent-color: #ff3a3a;
      border: none;
      background: #3d2b1a;
    }
    progress::-webkit-progress-value { background: #ffbb2b; border-radius: 20px; }
    progress::-webkit-progress-bar { background: #281e14; border-radius: 20px; }
    #car { font-size: 3.8rem; }
    @media (max-width: 550px) {
      h1 { font-size: 2rem; }
      .valentine-btn { font-size: 1.6rem; padding: 14px 24px; }
      .card { padding: 20px 12px; }
    }
  </style>
</body>
</html>
     
